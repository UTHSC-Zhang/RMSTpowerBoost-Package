<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Generation: Mechanisms and Examples • RMSTpowerBoost</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Generation: Mechanisms and Examples">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RMSTpowerBoost</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/RMSTpowerBoost-Main.html">R Package</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/RMSTpowerBoost-DataGen.html">Data Generation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/RMSTpowerBoost-App.html">Application</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UTHSC-Zhang/RMSTpowerBoost-Package/issues">Issues</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UTHSC-Zhang/RMSTpowerBoost-Package/discussions">Discussions</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data Generation: Mechanisms and Examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/UTHSC-Zhang/RMSTpowerBoost-Package/blob/main/vignettes/RMSTpowerBoost-DataGen.Rmd" class="external-link"><code>vignettes/RMSTpowerBoost-DataGen.Rmd</code></a></small>
      <div class="d-none name"><code>RMSTpowerBoost-DataGen.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-this-covers">What this covers<a class="anchor" aria-label="anchor" href="#what-this-covers"></a>
</h2>
<p>We show how to construct a <strong>recipe</strong> (covariates â†’
treatment â†’ event time â†’ censoring), and then simulate datasets with
<code><a href="../reference/simulate_from_recipe.html">simulate_from_recipe()</a></code>. We also show batch generation
(<code><a href="../reference/generate_recipe_sets.html">generate_recipe_sets()</a></code>) and how to read compact metadata
back (<code><a href="../reference/load_recipe_sets.html">load_recipe_sets()</a></code>), without any platform-specific
tricks.</p>
<p>The simulator takes a plain <strong>list</strong> as the recipe. No
YAML is required.</p>
<div class="section level3">
<h3 id="recipe-skeleton">Recipe skeleton<a class="anchor" aria-label="anchor" href="#recipe-skeleton"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">300</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="at">covariates =</span> <span class="fu">list</span>(<span class="at">defs =</span> <span class="fu">list</span>(<span class="sc">/</span><span class="er">*</span> see Covariates <span class="sc">*</span><span class="er">/</span>)),</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="at">treatment  =</span> <span class="fu">list</span>(<span class="sc">/</span><span class="er">*</span> see Treatment <span class="sc">*</span><span class="er">/</span>),</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="at">event_time =</span> <span class="fu">list</span>(<span class="sc">/</span><span class="er">*</span> see Event<span class="sc">-</span>time engines <span class="sc">*</span><span class="er">/</span>),</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="at">censoring  =</span> <span class="fu">list</span>(<span class="sc">/</span><span class="er">*</span> see Censoring <span class="sc">*</span><span class="er">/</span>),</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">42</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>)</span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="covariates">Covariates<a class="anchor" aria-label="anchor" href="#covariates"></a>
</h2>
<p>Each covariate has a <code>name</code>, <code>type</code>
(<code>"continuous"</code> or <code>"categorical"</code>), a
<code>dist</code> with <code>params</code>, and optional
<code>transform</code> steps applied after generation
(<code>"center(a)"</code>, <code>"scale(b)"</code>).</p>
<p><strong>Available distributions</strong></p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Type</th>
<th>
<code>dist</code> (string)</th>
<th>Parameters</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>continuous</td>
<td><code>normal</code></td>
<td>
<code>mean</code>, <code>sd</code>
</td>
</tr>
<tr class="even">
<td>continuous</td>
<td><code>lognormal</code></td>
<td>
<code>meanlog</code>, <code>sdlog</code>
</td>
</tr>
<tr class="odd">
<td>continuous</td>
<td><code>gamma</code></td>
<td>
<code>shape</code>, <code>scale</code>
</td>
</tr>
<tr class="even">
<td>continuous</td>
<td><code>weibull</code></td>
<td>
<code>shape</code>, <code>scale</code>
</td>
</tr>
<tr class="odd">
<td>continuous</td>
<td><code>uniform</code></td>
<td>
<code>min</code>, <code>max</code>
</td>
</tr>
<tr class="even">
<td>continuous</td>
<td><code>beta</code></td>
<td>
<code>shape1</code>, <code>shape2</code>
</td>
</tr>
<tr class="odd">
<td>continuous</td>
<td><code>t</code></td>
<td><code>df</code></td>
</tr>
<tr class="even">
<td>categorical</td>
<td><code>bernoulli</code></td>
<td>
<code>p</code> (probability of 1)</td>
</tr>
<tr class="odd">
<td>categorical</td>
<td><code>categorical</code></td>
<td>
<code>prob = c(...)</code>, <code>labels = c(...)</code>
(optional)</td>
</tr>
<tr class="even">
<td>categorical</td>
<td><code>ordinal</code></td>
<td>
<code>prob = c(...)</code>, <code>labels = c(...)</code> (optional,
ordered)</td>
</tr>
</tbody>
</table>
<p><strong>Example: define covariates</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"age"</span>,   type<span class="op">=</span><span class="st">"continuous"</span>,  dist<span class="op">=</span><span class="st">"normal"</span>,     params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean<span class="op">=</span><span class="fl">62</span>, sd<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>       transform<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"center(60)"</span>,<span class="st">"scale(10)"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"sex"</span>,   type<span class="op">=</span><span class="st">"categorical"</span>, dist<span class="op">=</span><span class="st">"bernoulli"</span>,  params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.45</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"stage"</span>, type<span class="op">=</span><span class="st">"categororical"</span>, dist<span class="op">=</span><span class="st">"ordinal"</span>,</span>
<span>       params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>prob<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.2</span><span class="op">)</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I"</span>,<span class="st">"II"</span>,<span class="st">"III"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"x"</span>,     type<span class="op">=</span><span class="st">"continuous"</span>,  dist<span class="op">=</span><span class="st">"lognormal"</span>,  params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>meanlog<span class="op">=</span><span class="fl">0</span>, sdlog<span class="op">=</span><span class="fl">0.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="treatment">Treatment<a class="anchor" aria-label="anchor" href="#treatment"></a>
</h2>
<p>Choose one <code>assignment</code>:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Assignment</th>
<th>Key fields</th>
<th>Meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"randomization"</code></td>
<td><code>allocation = "a:b"</code></td>
<td>Bernoulli with probability
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mi>a</mi><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">p_1 = a/(a+b)</annotation></semantics></math>.</td>
</tr>
<tr class="even">
<td><code>"stratified"</code></td>
<td>
<code>allocation</code>, <code>stratify_by = c("...")</code>
</td>
<td>Same allocation <strong>within</strong> each stratum defined by
listed <strong>categorical</strong> covariates.</td>
</tr>
<tr class="odd">
<td><code>"logistic_ps"</code></td>
<td><code>ps_model = list(formula = "~ ...", beta = c(...))</code></td>
<td>Treatment probability is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow><mi mathvariant="normal">l</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">g</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">t</mi></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>η</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathrm{logit}^{-1}(\eta)</annotation></semantics></math>
from user model. Provide explicit <code>beta</code> to avoid parsing
edge-cases.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Randomization:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tr_rand</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>assignment<span class="op">=</span><span class="st">"randomization"</span>, allocation<span class="op">=</span><span class="st">"1:1"</span><span class="op">)</span></span></code></pre></div>
<p>Stratified by <code>"stage"</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tr_strat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>assignment<span class="op">=</span><span class="st">"stratified"</span>, allocation<span class="op">=</span><span class="st">"2:1"</span>, stratify_by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stage"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Logistic propensity:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tr_ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  assignment <span class="op">=</span> <span class="st">"logistic_ps"</span>,</span>
<span>  ps_model  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    formula <span class="op">=</span> <span class="st">"~ 1 + x + sex"</span>,</span>
<span>    beta    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.3</span>, <span class="fl">1.2</span>, <span class="op">-</span><span class="fl">0.6</span><span class="op">)</span>  <span class="co"># (Intercept), x, sex</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="event-time-engines">Event-time engines<a class="anchor" aria-label="anchor" href="#event-time-engines"></a>
</h2>
<p>Let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math>
be treatment (0/1),
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
be covariates, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>η</mi><annotation encoding="application/x-tex">\eta</annotation></semantics></math>
be the <strong>linear predictor</strong> (defined in
<code>effects</code>, below). Supported engines and
<strong>baseline</strong> parameterizations:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th>Model (user-facing)</th>
<th>
<code>model</code> value</th>
<th>Baseline parameters</th>
<th>Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>AFT Lognormal</td>
<td><code>"aft_lognormal"</code></td>
<td>
<code>mu</code>, <code>sigma</code>
</td>
<td>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mi>T</mi><mo>=</mo><mi>μ</mi><mo>+</mo><mi>η</mi><mo>+</mo><mi>σ</mi><mi>ε</mi></mrow><annotation encoding="application/x-tex">\log T = \mu + \eta + \sigma \varepsilon</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi><mo>∼</mo><mi>𝒩</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\varepsilon \sim \mathcal{N}(0,1)</annotation></semantics></math>.</td>
</tr>
<tr class="even">
<td>AFT Weibull</td>
<td><code>"aft_weibull"</code></td>
<td>
<code>shape</code>, <code>scale</code>
</td>
<td>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mo>−</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mi>/</mi><mi>λ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>k</mi></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">S_0(t) = \exp(-(t/\lambda)^k)</annotation></semantics></math>;
AFT shift via
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>η</mi><annotation encoding="application/x-tex">\eta</annotation></semantics></math>.</td>
</tr>
<tr class="odd">
<td>AFT Log-Logistic</td>
<td><code>"aft_loglogistic"</code></td>
<td>
<code>shape</code>, <code>scale</code>
</td>
<td>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mi>λ</mi><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>η</mi><mo stretchy="true" form="postfix">)</mo></mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>U</mi><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>U</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">T = \lambda \exp(\eta) (U/(1-U))^{1/k}</annotation></semantics></math>.</td>
</tr>
<tr class="even">
<td>PH Exponential</td>
<td><code>"ph_pwexp"</code></td>
<td>
<code>rates = c(Î»)</code>, <code>cuts = numeric(0)</code>
</td>
<td>Piecewise-Exp with a <strong>single</strong> segment is
exponential.</td>
</tr>
<tr class="odd">
<td>PH Weibull</td>
<td><code>"ph_weibull"</code></td>
<td>
<code>shape</code>, <code>scale</code>
</td>
<td>Proportional hazards with Weibull baseline.</td>
</tr>
<tr class="even">
<td>PH Gompertz</td>
<td><code>"ph_gompertz"</code></td>
<td>
<code>rate</code>, <code>gamma</code>
</td>
<td>Hazard
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>a</mi><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>b</mi><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">h(t) = a \exp(bt)</annotation></semantics></math>.</td>
</tr>
<tr class="odd">
<td>PH Piecewise Exponential</td>
<td><code>"ph_pwexp"</code></td>
<td>
<code>rates = c(r1,r2,...)</code>,
<code>cuts = c(c1,c2,...)</code>
</td>
<td>Rate in segment
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>s</mi><annotation encoding="application/x-tex">s</annotation></semantics></math>
is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>s</mi></msub><mo>exp</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>η</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">r_s \exp(\eta)</annotation></semantics></math>.</td>
</tr>
</tbody>
</table>
<p><strong>Effects and linear predictor</strong></p>
<p>Specify effects on the appropriate scale (AFT: log-time; PH:
log-hazard):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">effects</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  intercept  <span class="op">=</span> <span class="fl">0</span>,                      <span class="co"># default is 0</span></span>
<span>  treatment  <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fl">0.01</span>, sex <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">)</span>  <span class="co"># NOTE: named LIST</span></span>
<span>  <span class="co"># or: formula="~ age + sex", beta=c(0.01, -0.2)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><code>effects$covariates</code> must be a <strong>named list</strong>
of numerics (e.g., <code>list(age=0.01)</code>), not a named vector
created with <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>.</p>
</blockquote>
<hr>
</div>
<div class="section level2">
<h2 id="censoring">Censoring<a class="anchor" aria-label="anchor" href="#censoring"></a>
</h2>
<p>Two modes are supported:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Mode</th>
<th>Fields</th>
<th>Semantics</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"target_overall"</code></td>
<td>
<code>target</code>, <code>admin_time</code>
</td>
<td>Solver finds an exponential random-censoring rate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>λ</mi><mi>c</mi></msub><annotation encoding="application/x-tex">\lambda_c</annotation></semantics></math>
so that overall censoring fraction
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>≈</mo><annotation encoding="application/x-tex">\approx</annotation></semantics></math><code>target</code>, subject to any administrative floor at
<code>admin_time</code>.</td>
</tr>
<tr class="even">
<td><code>"explicit"</code></td>
<td>Any of: <code>administrative = list(time=...)</code>;
<code>random = list(dist="exponential", params=list(rate=...))</code>;
<code>dependent = list(formula="~ ...", base=..., beta=c(...))</code>
</td>
<td>Compose administrative, random, and covariate-dependent censoring
directly.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p>Target overall censoring:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cz_target</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mode<span class="op">=</span><span class="st">"target_overall"</span>, target<span class="op">=</span><span class="fl">0.25</span>, admin_time<span class="op">=</span><span class="fl">36</span><span class="op">)</span></span></code></pre></div>
<p>Explicit mix (admin + random):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cz_explicit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  mode <span class="op">=</span> <span class="st">"explicit"</span>,</span>
<span>  administrative <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fl">36</span><span class="op">)</span>,</span>
<span>  random <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dist <span class="op">=</span> <span class="st">"exponential"</span>, params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rate <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="worked-examples">Worked examples<a class="anchor" aria-label="anchor" href="#worked-examples"></a>
</h2>
<p>We now build full recipes and call
<code><a href="../reference/simulate_from_recipe.html">simulate_from_recipe()</a></code>. We report realized censoring via
<code>attr(dat, "achieved_censoring")</code>.</p>
<div class="section level3">
<h3 id="example-1-â-aft-lognormal">Example 1 â€” AFT Lognormal<a class="anchor" aria-label="anchor" href="#example-1-%C3%A2-aft-lognormal"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>covs1 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name=</span><span class="st">"age"</span>,   <span class="at">type=</span><span class="st">"continuous"</span>,  <span class="at">dist=</span><span class="st">"normal"</span>,     <span class="at">params=</span><span class="fu">list</span>(<span class="at">mean=</span><span class="dv">62</span>, <span class="at">sd=</span><span class="dv">10</span>),</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>       <span class="at">transform=</span><span class="fu">c</span>(<span class="st">"center(60)"</span>,<span class="st">"scale(10)"</span>)),</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name=</span><span class="st">"sex"</span>,   <span class="at">type=</span><span class="st">"categorical"</span>, <span class="at">dist=</span><span class="st">"bernoulli"</span>,  <span class="at">params=</span><span class="fu">list</span>(<span class="at">p=</span><span class="fl">0.45</span>)),</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name=</span><span class="st">"stage"</span>, <span class="at">type=</span><span class="st">"categorical"</span>, <span class="at">dist=</span><span class="st">"ordinal"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>       <span class="at">params=</span><span class="fu">list</span>(<span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.2</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"I"</span>,<span class="st">"II"</span>,<span class="st">"III"</span>))),</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name=</span><span class="st">"x"</span>,     <span class="at">type=</span><span class="st">"continuous"</span>,  <span class="at">dist=</span><span class="st">"lognormal"</span>,  <span class="at">params=</span><span class="fu">list</span>(<span class="at">meanlog=</span><span class="dv">0</span>, <span class="at">sdlog=</span><span class="fl">0.6</span>))</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>)</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>rec1 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">300</span>,</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="at">covariates =</span> <span class="fu">list</span>(<span class="at">defs =</span> covs1),</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  <span class="at">treatment  =</span> <span class="fu">list</span>(<span class="at">assignment=</span><span class="st">"randomization"</span>, <span class="at">allocation=</span><span class="st">"1:1"</span>),</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>  <span class="at">event_time =</span> <span class="fu">list</span>(<span class="at">model=</span><span class="st">"aft_lognormal"</span>,</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>                    <span class="at">baseline=</span><span class="fu">list</span>(<span class="at">mu=</span><span class="fl">3.0</span>, <span class="at">sigma=</span><span class="fl">0.6</span>),</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>                    <span class="at">effects=</span><span class="fu">list</span>(<span class="at">intercept=</span><span class="dv">0</span>, <span class="at">treatment=</span><span class="sc">-</span><span class="fl">0.25</span>,</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>                                 <span class="at">covariates=</span><span class="fu">list</span>(<span class="at">age=</span><span class="fl">0.01</span>, <span class="at">sex=</span><span class="sc">-</span><span class="fl">0.2</span>, <span class="at">x=</span><span class="fl">0.05</span>))),</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  <span class="at">censoring  =</span> <span class="fu">list</span>(<span class="at">mode=</span><span class="st">"target_overall"</span>, <span class="at">target=</span><span class="fl">0.25</span>, <span class="at">admin_time=</span><span class="dv">36</span>),</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">11</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>)</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">simulate_from_recipe</span>(<span class="fu">validate_recipe</span>(rec1))</span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="fu">head</span>(dat1)</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>       time status arm        age sex stage         x</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="dv">1</span> <span class="fl">17.256803</span>      <span class="dv">1</span>   <span class="dv">0</span> <span class="sc">-</span><span class="fl">0.3910311</span>   <span class="dv">0</span>    II <span class="fl">1.2192376</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="dv">2</span> <span class="fl">19.531621</span>      <span class="dv">1</span>   <span class="dv">1</span>  <span class="fl">0.2265944</span>   <span class="dv">1</span>    II <span class="fl">0.6122083</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="dv">3</span> <span class="fl">11.902048</span>      <span class="dv">1</span>   <span class="dv">0</span> <span class="sc">-</span><span class="fl">1.3165531</span>   <span class="dv">0</span>   III <span class="fl">1.2334828</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="dv">4</span> <span class="fl">18.770511</span>      <span class="dv">1</span>   <span class="dv">0</span> <span class="sc">-</span><span class="fl">1.1626533</span>   <span class="dv">0</span>    II <span class="fl">0.5784534</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="dv">5</span> <span class="fl">16.584294</span>      <span class="dv">1</span>   <span class="dv">1</span>  <span class="fl">1.3784892</span>   <span class="dv">0</span>    II <span class="fl">0.2619596</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="dv">6</span>  <span class="fl">9.377759</span>      <span class="dv">1</span>   <span class="dv">1</span> <span class="sc">-</span><span class="fl">0.7341513</span>   <span class="dv">0</span>    II <span class="fl">1.1455235</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="fu">attr</span>(dat1, <span class="st">"achieved_censoring"</span>)</span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.23</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-2-â-aft-weibull">Example 2 â€” AFT Weibull<a class="anchor" aria-label="anchor" href="#example-2-%C3%A2-aft-weibull"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>rec2 <span class="ot">&lt;-</span> rec1</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>rec2<span class="sc">$</span>event_time <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">model=</span><span class="st">"aft_weibull"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>                        <span class="at">baseline=</span><span class="fu">list</span>(<span class="at">shape=</span><span class="fl">1.3</span>, <span class="at">scale=</span><span class="dv">12</span>),</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>                        <span class="at">effects=</span><span class="fu">list</span>(<span class="at">intercept=</span><span class="dv">0</span>, <span class="at">treatment=</span><span class="sc">-</span><span class="fl">0.20</span>,</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>                                     <span class="at">covariates=</span><span class="fu">list</span>(<span class="at">age=</span><span class="fl">0.008</span>, <span class="at">x=</span><span class="fl">0.04</span>)))</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">simulate_from_recipe</span>(<span class="fu">validate_recipe</span>(rec2), <span class="at">seed=</span><span class="dv">12</span>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="fu">summary</span>(dat2<span class="sc">$</span>time)</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>   Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a> <span class="fl">0.2221</span>  <span class="fl">3.4534</span>  <span class="fl">7.2184</span>  <span class="fl">8.8069</span> <span class="fl">12.1700</span> <span class="fl">36.0000</span> </span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="fu">attr</span>(dat2, <span class="st">"achieved_censoring"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.2466667</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-3-â-ph-piecewise-exponential-single-segment">Example 3 â€” PH piecewise exponential (single segment)<a class="anchor" aria-label="anchor" href="#example-3-%C3%A2-ph-piecewise-exponential-single-segment"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rec3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>defs <span class="op">=</span> <span class="va">covs1</span><span class="op">)</span>,</span>
<span>  treatment  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>assignment<span class="op">=</span><span class="st">"randomization"</span>, allocation<span class="op">=</span><span class="st">"1:1"</span><span class="op">)</span>,</span>
<span>  event_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>model<span class="op">=</span><span class="st">"ph_pwexp"</span>,</span>
<span>                    baseline<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span>, cuts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    effects<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>intercept<span class="op">=</span><span class="fl">0</span>, treatment<span class="op">=</span><span class="op">-</span><span class="fl">0.3</span>,</span>
<span>                                 covariates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>age<span class="op">=</span><span class="fl">0.01</span>, x<span class="op">=</span><span class="fl">0.03</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  censoring  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mode<span class="op">=</span><span class="st">"target_overall"</span>, target<span class="op">=</span><span class="fl">0.20</span>, admin_time<span class="op">=</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">13</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dat3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_from_recipe.html">simulate_from_recipe</a></span><span class="op">(</span><span class="fu"><a href="../reference/validate_recipe.html">validate_recipe</a></span><span class="op">(</span><span class="va">rec3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Example 3 â€” Summary</caption>
<thead><tr class="header">
<th align="left">Metric</th>
<th align="right">Value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">n</td>
<td align="right">400.000</td>
</tr>
<tr class="even">
<td align="left">Events</td>
<td align="right">297.000</td>
</tr>
<tr class="odd">
<td align="left">Censoring rate</td>
<td align="right">0.258</td>
</tr>
<tr class="even">
<td align="left">Mean time</td>
<td align="right">16.440</td>
</tr>
<tr class="odd">
<td align="left">Median time</td>
<td align="right">15.130</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="example-4-â-ph-piecewise-exponential-multi-segment">Example 4 â€” PH piecewise exponential (multi-segment)<a class="anchor" aria-label="anchor" href="#example-4-%C3%A2-ph-piecewise-exponential-multi-segment"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rec4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>defs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"age"</span>, type<span class="op">=</span><span class="st">"continuous"</span>,  dist<span class="op">=</span><span class="st">"normal"</span>,    params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean<span class="op">=</span><span class="fl">60</span>, sd<span class="op">=</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"sex"</span>, type<span class="op">=</span><span class="st">"categorical"</span>, dist<span class="op">=</span><span class="st">"bernoulli"</span>, params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"x"</span>,   type<span class="op">=</span><span class="st">"continuous"</span>,  dist<span class="op">=</span><span class="st">"lognormal"</span>, params<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>meanlog<span class="op">=</span><span class="fl">0</span>, sdlog<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span>,</span>
<span>  treatment  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>assignment<span class="op">=</span><span class="st">"randomization"</span>, allocation<span class="op">=</span><span class="st">"1:1"</span><span class="op">)</span>,</span>
<span>  event_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>model<span class="op">=</span><span class="st">"ph_pwexp"</span>,</span>
<span>                    baseline<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>rates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.10</span>, <span class="fl">0.06</span>, <span class="fl">0.03</span><span class="op">)</span>, cuts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">18</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    effects<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>intercept<span class="op">=</span><span class="fl">0</span>, treatment<span class="op">=</span><span class="op">-</span><span class="fl">0.4</span>,</span>
<span>                                 covariates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>age<span class="op">=</span><span class="fl">0.01</span>, x<span class="op">=</span><span class="fl">0.03</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  censoring  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mode<span class="op">=</span><span class="st">"target_overall"</span>, target<span class="op">=</span><span class="fl">0.25</span>, admin_time<span class="op">=</span><span class="fl">30</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dat4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_from_recipe.html">simulate_from_recipe</a></span><span class="op">(</span><span class="fu"><a href="../reference/validate_recipe.html">validate_recipe</a></span><span class="op">(</span><span class="va">rec4</span><span class="op">)</span>, seed<span class="op">=</span><span class="fl">123</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Example 4 â€” Summary</caption>
<thead><tr class="header">
<th align="left">Metric</th>
<th align="left">Metric.1</th>
<th align="right">Value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">n</td>
<td align="left">n</td>
<td align="right">500.000</td>
</tr>
<tr class="even">
<td align="left">Events</td>
<td align="left">Events</td>
<td align="right">367.000</td>
</tr>
<tr class="odd">
<td align="left">Censoring rate</td>
<td align="left">Censoring rate</td>
<td align="right">0.266</td>
</tr>
<tr class="even">
<td align="left">Mean time</td>
<td align="left">Mean time</td>
<td align="right">5.640</td>
</tr>
<tr class="odd">
<td align="left">Median time</td>
<td align="left">Median time</td>
<td align="right">3.560</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="batch-generation-with-metadata">Batch generation with metadata<a class="anchor" aria-label="anchor" href="#batch-generation-with-metadata"></a>
</h2>
<p>For simulation studies, write multiple scenarios and formats
together. The writer creates a <code>manifest.rds</code> with a
<strong>list-column</strong> <code>meta</code> describing each dataset.
The loader reattaches attributes when reading back.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">validate_recipe</span>(rec2)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>out_dir <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">tempdir</span>(), <span class="st">"rmstss-manifest-demo"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="fu">unlink</span>(out_dir, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">force =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>man <span class="ot">&lt;-</span> <span class="fu">generate_recipe_sets</span>(</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>  <span class="at">base_recipe =</span> base,</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="at">vary =</span> <span class="fu">list</span>(<span class="at">n =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">400</span>),</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>              <span class="st">"event_time.effects.treatment"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.15</span>, <span class="sc">-</span><span class="fl">0.25</span>)),</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>  <span class="at">out_dir  =</span> out_dir,</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>  <span class="at">formats  =</span> <span class="fu">c</span>(<span class="st">"rds"</span>,<span class="st">"csv"</span>),</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>  <span class="at">n_reps   =</span> <span class="dv">1</span>,</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>  <span class="at">seed_base =</span> <span class="dv">2025</span></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>)</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a><span class="co"># Inspect the first row's compact metadata (fields only; no file paths)</span></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">file.path</span>(out_dir, <span class="st">"manifest.rds"</span>))</span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="fu">names</span>(m)</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"scenario_id"</span>                     <span class="st">"rep"</span>                            </span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a> [<span class="dv">3</span>] <span class="st">"seed"</span>                            <span class="st">"achieved_censoring"</span>             </span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">"n"</span>                               <span class="st">"file_txt"</span>                       </span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">"file_csv"</span>                        <span class="st">"file_rds"</span>                       </span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">"file_rdata"</span>                      <span class="st">"p__n"</span>                           </span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">"p__event_time.effects.treatment"</span> <span class="st">"meta"</span>                           </span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a><span class="cf">if</span> (<span class="st">"meta"</span> <span class="sc">%in%</span> <span class="fu">names</span>(m) <span class="sc">&amp;&amp;</span> <span class="fu">length</span>(m<span class="sc">$</span>meta[[<span class="dv">1</span>]]) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">model =</span> m<span class="sc">$</span>meta[[<span class="dv">1</span>]]<span class="sc">$</span>model,</span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a>       <span class="at">baseline =</span> m<span class="sc">$</span>meta[[<span class="dv">1</span>]]<span class="sc">$</span>baseline,</span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a>       <span class="at">effects =</span> m<span class="sc">$</span>meta[[<span class="dv">1</span>]]<span class="sc">$</span>effects,</span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>       <span class="at">achieved_censoring =</span> m<span class="sc">$</span>meta[[<span class="dv">1</span>]]<span class="sc">$</span>achieved_censoring,</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>       <span class="at">n =</span> m<span class="sc">$</span>meta[[<span class="dv">1</span>]]<span class="sc">$</span>n)</span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>  <span class="st">"Manifest is minimal (older run); use rebuild_manifest() to enrich."</span></span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a>}</span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a><span class="sc">$</span>model</span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"aft_weibull"</span></span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a></span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a><span class="sc">$</span>baseline</span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a><span class="sc">$</span>baseline<span class="sc">$</span>shape</span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">1.3</span></span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a></span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a><span class="sc">$</span>baseline<span class="sc">$</span>scale</span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a></span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a></span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a><span class="sc">$</span>effects</span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a><span class="sc">$</span>effects<span class="sc">$</span>intercept</span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a></span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a><span class="sc">$</span>effects<span class="sc">$</span>treatment</span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.15</span></span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a></span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a><span class="sc">$</span>effects<span class="sc">$</span>covariates</span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a><span class="sc">$</span>effects<span class="sc">$</span>covariates<span class="sc">$</span>age</span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.008</span></span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a></span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a><span class="sc">$</span>effects<span class="sc">$</span>covariates<span class="sc">$</span>x</span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.04</span></span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a></span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a></span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a></span>
<span id="cb13-61"><a href="#cb13-61" tabindex="-1"></a><span class="sc">$</span>achieved_censoring</span>
<span id="cb13-62"><a href="#cb13-62" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.28</span></span>
<span id="cb13-63"><a href="#cb13-63" tabindex="-1"></a></span>
<span id="cb13-64"><a href="#cb13-64" tabindex="-1"></a><span class="sc">$</span>n</span>
<span id="cb13-65"><a href="#cb13-65" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">200</span></span>
<span id="cb13-66"><a href="#cb13-66" tabindex="-1"></a></span>
<span id="cb13-67"><a href="#cb13-67" tabindex="-1"></a><span class="co"># Load datasets back</span></span>
<span id="cb13-68"><a href="#cb13-68" tabindex="-1"></a>sets <span class="ot">&lt;-</span> <span class="fu">load_recipe_sets</span>(<span class="fu">file.path</span>(out_dir, <span class="st">"manifest.rds"</span>))</span>
<span id="cb13-69"><a href="#cb13-69" tabindex="-1"></a><span class="fu">attr</span>(sets[[<span class="dv">1</span>]]<span class="sc">$</span>data, <span class="st">"achieved_censoring"</span>)</span>
<span id="cb13-70"><a href="#cb13-70" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.28</span></span>
<span id="cb13-71"><a href="#cb13-71" tabindex="-1"></a><span class="fu">str</span>(sets[[<span class="dv">1</span>]]<span class="sc">$</span>meta)</span>
<span id="cb13-72"><a href="#cb13-72" tabindex="-1"></a>List of <span class="dv">19</span></span>
<span id="cb13-73"><a href="#cb13-73" tabindex="-1"></a> <span class="sc">$</span> dataset_id        <span class="sc">:</span> chr <span class="st">"sc001_r01"</span></span>
<span id="cb13-74"><a href="#cb13-74" tabindex="-1"></a> <span class="sc">$</span> scenario_id       <span class="sc">:</span> int <span class="dv">1</span></span>
<span id="cb13-75"><a href="#cb13-75" tabindex="-1"></a> <span class="sc">$</span> rep               <span class="sc">:</span> int <span class="dv">1</span></span>
<span id="cb13-76"><a href="#cb13-76" tabindex="-1"></a> <span class="sc">$</span> seed_used         <span class="sc">:</span> int <span class="dv">3026</span></span>
<span id="cb13-77"><a href="#cb13-77" tabindex="-1"></a> <span class="sc">$</span> n                 <span class="sc">:</span> int <span class="dv">200</span></span>
<span id="cb13-78"><a href="#cb13-78" tabindex="-1"></a> <span class="sc">$</span> n_treat           <span class="sc">:</span> int <span class="dv">110</span></span>
<span id="cb13-79"><a href="#cb13-79" tabindex="-1"></a> <span class="sc">$</span> n_control         <span class="sc">:</span> int <span class="dv">90</span></span>
<span id="cb13-80"><a href="#cb13-80" tabindex="-1"></a> <span class="sc">$</span> event_rate        <span class="sc">:</span> num <span class="fl">0.72</span></span>
<span id="cb13-81"><a href="#cb13-81" tabindex="-1"></a> <span class="sc">$</span> achieved_censoring<span class="sc">:</span> num <span class="fl">0.28</span></span>
<span id="cb13-82"><a href="#cb13-82" tabindex="-1"></a> <span class="sc">$</span> model             <span class="sc">:</span> chr <span class="st">"aft_weibull"</span></span>
<span id="cb13-83"><a href="#cb13-83" tabindex="-1"></a> <span class="sc">$</span> baseline          <span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-84"><a href="#cb13-84" tabindex="-1"></a>  ..<span class="sc">$</span> shape<span class="sc">:</span> num <span class="fl">1.3</span></span>
<span id="cb13-85"><a href="#cb13-85" tabindex="-1"></a>  ..<span class="sc">$</span> scale<span class="sc">:</span> num <span class="dv">12</span></span>
<span id="cb13-86"><a href="#cb13-86" tabindex="-1"></a> <span class="sc">$</span> effects           <span class="sc">:</span>List of <span class="dv">3</span></span>
<span id="cb13-87"><a href="#cb13-87" tabindex="-1"></a>  ..<span class="sc">$</span> intercept <span class="sc">:</span> num <span class="dv">0</span></span>
<span id="cb13-88"><a href="#cb13-88" tabindex="-1"></a>  ..<span class="sc">$</span> treatment <span class="sc">:</span> num <span class="sc">-</span><span class="fl">0.15</span></span>
<span id="cb13-89"><a href="#cb13-89" tabindex="-1"></a>  ..<span class="sc">$</span> covariates<span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-90"><a href="#cb13-90" tabindex="-1"></a>  .. ..<span class="sc">$</span> age<span class="sc">:</span> num <span class="fl">0.008</span></span>
<span id="cb13-91"><a href="#cb13-91" tabindex="-1"></a>  .. ..<span class="sc">$</span> x  <span class="sc">:</span> num <span class="fl">0.04</span></span>
<span id="cb13-92"><a href="#cb13-92" tabindex="-1"></a> <span class="sc">$</span> treatment         <span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-93"><a href="#cb13-93" tabindex="-1"></a>  ..<span class="sc">$</span> assignment<span class="sc">:</span> chr <span class="st">"randomization"</span></span>
<span id="cb13-94"><a href="#cb13-94" tabindex="-1"></a>  ..<span class="sc">$</span> allocation<span class="sc">:</span> chr <span class="st">"1:1"</span></span>
<span id="cb13-95"><a href="#cb13-95" tabindex="-1"></a> <span class="sc">$</span> censoring         <span class="sc">:</span>List of <span class="dv">3</span></span>
<span id="cb13-96"><a href="#cb13-96" tabindex="-1"></a>  ..<span class="sc">$</span> mode      <span class="sc">:</span> chr <span class="st">"target_overall"</span></span>
<span id="cb13-97"><a href="#cb13-97" tabindex="-1"></a>  ..<span class="sc">$</span> target    <span class="sc">:</span> num <span class="fl">0.25</span></span>
<span id="cb13-98"><a href="#cb13-98" tabindex="-1"></a>  ..<span class="sc">$</span> admin_time<span class="sc">:</span> num <span class="dv">36</span></span>
<span id="cb13-99"><a href="#cb13-99" tabindex="-1"></a> <span class="sc">$</span> covariates        <span class="sc">:</span>List of <span class="dv">4</span></span>
<span id="cb13-100"><a href="#cb13-100" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb13-101"><a href="#cb13-101" tabindex="-1"></a>  .. ..<span class="sc">$</span> name  <span class="sc">:</span> chr <span class="st">"age"</span></span>
<span id="cb13-102"><a href="#cb13-102" tabindex="-1"></a>  .. ..<span class="sc">$</span> type  <span class="sc">:</span> chr <span class="st">"continuous"</span></span>
<span id="cb13-103"><a href="#cb13-103" tabindex="-1"></a>  .. ..<span class="sc">$</span> dist  <span class="sc">:</span> chr <span class="st">"normal"</span></span>
<span id="cb13-104"><a href="#cb13-104" tabindex="-1"></a>  .. ..<span class="sc">$</span> params<span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-105"><a href="#cb13-105" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> mean<span class="sc">:</span> num <span class="dv">62</span></span>
<span id="cb13-106"><a href="#cb13-106" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> sd  <span class="sc">:</span> num <span class="dv">10</span></span>
<span id="cb13-107"><a href="#cb13-107" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb13-108"><a href="#cb13-108" tabindex="-1"></a>  .. ..<span class="sc">$</span> name  <span class="sc">:</span> chr <span class="st">"sex"</span></span>
<span id="cb13-109"><a href="#cb13-109" tabindex="-1"></a>  .. ..<span class="sc">$</span> type  <span class="sc">:</span> chr <span class="st">"categorical"</span></span>
<span id="cb13-110"><a href="#cb13-110" tabindex="-1"></a>  .. ..<span class="sc">$</span> dist  <span class="sc">:</span> chr <span class="st">"bernoulli"</span></span>
<span id="cb13-111"><a href="#cb13-111" tabindex="-1"></a>  .. ..<span class="sc">$</span> params<span class="sc">:</span>List of <span class="dv">1</span></span>
<span id="cb13-112"><a href="#cb13-112" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> p<span class="sc">:</span> num <span class="fl">0.45</span></span>
<span id="cb13-113"><a href="#cb13-113" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb13-114"><a href="#cb13-114" tabindex="-1"></a>  .. ..<span class="sc">$</span> name  <span class="sc">:</span> chr <span class="st">"stage"</span></span>
<span id="cb13-115"><a href="#cb13-115" tabindex="-1"></a>  .. ..<span class="sc">$</span> type  <span class="sc">:</span> chr <span class="st">"categorical"</span></span>
<span id="cb13-116"><a href="#cb13-116" tabindex="-1"></a>  .. ..<span class="sc">$</span> dist  <span class="sc">:</span> chr <span class="st">"ordinal"</span></span>
<span id="cb13-117"><a href="#cb13-117" tabindex="-1"></a>  .. ..<span class="sc">$</span> params<span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-118"><a href="#cb13-118" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> prob  <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="fl">0.3</span> <span class="fl">0.5</span> <span class="fl">0.2</span></span>
<span id="cb13-119"><a href="#cb13-119" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> labels<span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="st">"I"</span> <span class="st">"II"</span> <span class="st">"III"</span></span>
<span id="cb13-120"><a href="#cb13-120" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span>List of <span class="dv">4</span></span>
<span id="cb13-121"><a href="#cb13-121" tabindex="-1"></a>  .. ..<span class="sc">$</span> name  <span class="sc">:</span> chr <span class="st">"x"</span></span>
<span id="cb13-122"><a href="#cb13-122" tabindex="-1"></a>  .. ..<span class="sc">$</span> type  <span class="sc">:</span> chr <span class="st">"continuous"</span></span>
<span id="cb13-123"><a href="#cb13-123" tabindex="-1"></a>  .. ..<span class="sc">$</span> dist  <span class="sc">:</span> chr <span class="st">"lognormal"</span></span>
<span id="cb13-124"><a href="#cb13-124" tabindex="-1"></a>  .. ..<span class="sc">$</span> params<span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-125"><a href="#cb13-125" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> meanlog<span class="sc">:</span> num <span class="dv">0</span></span>
<span id="cb13-126"><a href="#cb13-126" tabindex="-1"></a>  .. .. ..<span class="sc">$</span> sdlog  <span class="sc">:</span> num <span class="fl">0.6</span></span>
<span id="cb13-127"><a href="#cb13-127" tabindex="-1"></a> <span class="sc">$</span> allocation        <span class="sc">:</span> chr <span class="st">"1:1"</span></span>
<span id="cb13-128"><a href="#cb13-128" tabindex="-1"></a> <span class="sc">$</span> params            <span class="sc">:</span>List of <span class="dv">2</span></span>
<span id="cb13-129"><a href="#cb13-129" tabindex="-1"></a>  ..<span class="sc">$</span> n                           <span class="sc">:</span> num <span class="dv">200</span></span>
<span id="cb13-130"><a href="#cb13-130" tabindex="-1"></a>  ..<span class="sc">$</span> event_time.effects.treatment<span class="sc">:</span> num <span class="sc">-</span><span class="fl">0.15</span></span>
<span id="cb13-131"><a href="#cb13-131" tabindex="-1"></a> <span class="sc">$</span> files             <span class="sc">:</span>List of <span class="dv">4</span></span>
<span id="cb13-132"><a href="#cb13-132" tabindex="-1"></a>  ..<span class="sc">$</span> txt  <span class="sc">:</span> chr <span class="cn">NA</span></span>
<span id="cb13-133"><a href="#cb13-133" tabindex="-1"></a>  ..<span class="sc">$</span> csv  <span class="sc">:</span> chr <span class="st">"/tmp/RtmprnDiV7/rmstss-manifest-demo/sc1_r1.csv"</span></span>
<span id="cb13-134"><a href="#cb13-134" tabindex="-1"></a>  ..<span class="sc">$</span> rds  <span class="sc">:</span> chr <span class="st">"/tmp/RtmprnDiV7/rmstss-manifest-demo/sc1_r1.rds"</span></span>
<span id="cb13-135"><a href="#cb13-135" tabindex="-1"></a>  ..<span class="sc">$</span> rdata<span class="sc">:</span> chr <span class="cn">NA</span></span>
<span id="cb13-136"><a href="#cb13-136" tabindex="-1"></a> <span class="sc">$</span> created_at        <span class="sc">:</span> chr <span class="st">"2025-10-13 17:21:23.598403"</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="reproducibility-tips">Reproducibility tips<a class="anchor" aria-label="anchor" href="#reproducibility-tips"></a>
</h2>
<ul>
<li>Set <code>seed</code> in the recipe or pass <code>seed=</code> to
<code><a href="../reference/simulate_from_recipe.html">simulate_from_recipe()</a></code>.</li>
<li>For grids, fix a deterministic scheme like
<code>seed_base + scenario_id*1000 + rep</code> (this is what
<code><a href="../reference/generate_recipe_sets.html">generate_recipe_sets()</a></code> does).</li>
</ul>
<p>Thatâ€™s itâ€”you now have the moving parts to define covariates,
choose an event-time engine, specify censoring, simulate data, and
(optionally) batch-create scenarios with compact metadata for downstream
analysis.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Arnab Aich, Yuan Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
